<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.iotequ.reader.dao.DevReaderDao">
  <resultMap id="BaseResultMap" type="top.iotequ.reader.pojo.DevReader">
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="reader_no" jdbcType="VARCHAR" property="readerNo" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="type" jdbcType="VARCHAR" property="type" />
    <result column="reader_group" jdbcType="INTEGER" property="readerGroup" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="connect_type" jdbcType="VARCHAR" property="connectType" />
    <result column="ip" jdbcType="VARCHAR" property="ip" />
    <result column="dev_mode" jdbcType="VARCHAR" property="devMode" />
    <result column="firmware" jdbcType="VARCHAR" property="firmware" />
    <result column="is_online" jdbcType="TINYINT" property="isOnline" />
    <result column="is_time_sync" jdbcType="TINYINT" property="isTimeSync" />
    <result column="align_method" jdbcType="TINYINT" property="alignMethod" />
    <result column="blacklight_time" jdbcType="TINYINT" property="blacklightTime" />
    <result column="voiceprompt" jdbcType="TINYINT" property="voiceprompt" />
    <result column="menu_time" jdbcType="TINYINT" property="menuTime" />
    <result column="wengenform" jdbcType="TINYINT" property="wengenform" />
    <result column="wengen_output" jdbcType="TINYINT" property="wengenOutput" />
    <result column="wengen_out_area" jdbcType="TINYINT" property="wengenOutArea" />
    <result column="regfinger_out_time" jdbcType="TINYINT" property="regfingerOutTime" />
    <result column="authfinger_out_time" jdbcType="TINYINT" property="authfingerOutTime" />
  </resultMap>
  <sql id = "selectSql">
     SELECT id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time FROM dev_reader
  </sql>
  <insert id="insert" parameterType="top.iotequ.reader.pojo.DevReader">
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.String" >
      SELECT replace(uuid(), '-', '')
    </selectKey>
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.String" databaseId="SQLServer">
      SELECT replace(lower(newid()), '-', '')
    </selectKey>
    <selectKey keyProperty="id" order="BEFORE" resultType="java.lang.String" databaseId="Oracle">
      SELECT replace(lower(sys_guid()), '-', '') from dual
    </selectKey>
    insert into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time)
      values 
      (#{id,jdbcType=VARCHAR},#{readerNo,jdbcType=VARCHAR},#{name,jdbcType=VARCHAR},#{type,jdbcType=VARCHAR},#{readerGroup,jdbcType=INTEGER},#{address,jdbcType=VARCHAR},#{connectType,jdbcType=VARCHAR},#{ip,jdbcType=VARCHAR},#{devMode,jdbcType=VARCHAR},#{firmware,jdbcType=VARCHAR},#{isOnline,jdbcType=TINYINT},#{isTimeSync,jdbcType=TINYINT},#{alignMethod,jdbcType=TINYINT},#{blacklightTime,jdbcType=TINYINT},#{voiceprompt,jdbcType=TINYINT},#{menuTime,jdbcType=TINYINT},#{wengenform,jdbcType=TINYINT},#{wengenOutput,jdbcType=TINYINT},#{wengenOutArea,jdbcType=TINYINT},#{regfingerOutTime,jdbcType=TINYINT},#{authfingerOutTime,jdbcType=TINYINT})
  </insert>
  <insert id="insertBatchWithoutId" parameterType="top.iotequ.reader.pojo.DevReader">
    insert into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time)
      values 
    <foreach collection="list" item="item" index="index" separator=",">
      (replace(uuid(), '-', ''),#{item.readerNo,jdbcType=VARCHAR},#{item.name,jdbcType=VARCHAR},#{item.type,jdbcType=VARCHAR},#{item.readerGroup,jdbcType=INTEGER},#{item.address,jdbcType=VARCHAR},#{item.connectType,jdbcType=VARCHAR},#{item.ip,jdbcType=VARCHAR},#{item.devMode,jdbcType=VARCHAR},#{item.firmware,jdbcType=VARCHAR},#{item.isOnline,jdbcType=TINYINT},#{item.isTimeSync,jdbcType=TINYINT},#{item.alignMethod,jdbcType=TINYINT},#{item.blacklightTime,jdbcType=TINYINT},#{item.voiceprompt,jdbcType=TINYINT},#{item.menuTime,jdbcType=TINYINT},#{item.wengenform,jdbcType=TINYINT},#{item.wengenOutput,jdbcType=TINYINT},#{item.wengenOutArea,jdbcType=TINYINT},#{item.regfingerOutTime,jdbcType=TINYINT},#{item.authfingerOutTime,jdbcType=TINYINT})
    </foreach>
  </insert>
  <insert id="insertBatchWithoutId" parameterType="top.iotequ.reader.pojo.DevReader" databaseId="SQLServer">
    insert into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time)
      values 
    <foreach collection="list" item="item" index="index" separator=",">
      (replace(lower(newid()), '-', ''),#{item.readerNo,jdbcType=VARCHAR},#{item.name,jdbcType=VARCHAR},#{item.type,jdbcType=VARCHAR},#{item.readerGroup,jdbcType=INTEGER},#{item.address,jdbcType=VARCHAR},#{item.connectType,jdbcType=VARCHAR},#{item.ip,jdbcType=VARCHAR},#{item.devMode,jdbcType=VARCHAR},#{item.firmware,jdbcType=VARCHAR},#{item.isOnline,jdbcType=TINYINT},#{item.isTimeSync,jdbcType=TINYINT},#{item.alignMethod,jdbcType=TINYINT},#{item.blacklightTime,jdbcType=TINYINT},#{item.voiceprompt,jdbcType=TINYINT},#{item.menuTime,jdbcType=TINYINT},#{item.wengenform,jdbcType=TINYINT},#{item.wengenOutput,jdbcType=TINYINT},#{item.wengenOutArea,jdbcType=TINYINT},#{item.regfingerOutTime,jdbcType=TINYINT},#{item.authfingerOutTime,jdbcType=TINYINT})
    </foreach>
  </insert>
  <insert id="insertBatchWithoutId" parameterType="top.iotequ.reader.pojo.DevReader" databaseId="Oracle">
    insert all 
    <foreach collection="list" item="item" index="index">
      into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time) values(replace(lower(sys_guid()), '-', ''),#{item.readerNo,jdbcType=VARCHAR},#{item.name,jdbcType=VARCHAR},#{item.type,jdbcType=VARCHAR},#{item.readerGroup,jdbcType=INTEGER},#{item.address,jdbcType=VARCHAR},#{item.connectType,jdbcType=VARCHAR},#{item.ip,jdbcType=VARCHAR},#{item.devMode,jdbcType=VARCHAR},#{item.firmware,jdbcType=VARCHAR},#{item.isOnline,jdbcType=TINYINT},#{item.isTimeSync,jdbcType=TINYINT},#{item.alignMethod,jdbcType=TINYINT},#{item.blacklightTime,jdbcType=TINYINT},#{item.voiceprompt,jdbcType=TINYINT},#{item.menuTime,jdbcType=TINYINT},#{item.wengenform,jdbcType=TINYINT},#{item.wengenOutput,jdbcType=TINYINT},#{item.wengenOutArea,jdbcType=TINYINT},#{item.regfingerOutTime,jdbcType=TINYINT},#{item.authfingerOutTime,jdbcType=TINYINT})
    </foreach>
    select 1 from dual
  </insert>
  <insert id="insertBatchWithId" parameterType="top.iotequ.reader.pojo.DevReader">
    insert into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time)
      values 
    <foreach collection="list" item="item" index="index" separator=",">
      (#{item.id,jdbcType=VARCHAR},#{item.readerNo,jdbcType=VARCHAR},#{item.name,jdbcType=VARCHAR},#{item.type,jdbcType=VARCHAR},#{item.readerGroup,jdbcType=INTEGER},#{item.address,jdbcType=VARCHAR},#{item.connectType,jdbcType=VARCHAR},#{item.ip,jdbcType=VARCHAR},#{item.devMode,jdbcType=VARCHAR},#{item.firmware,jdbcType=VARCHAR},#{item.isOnline,jdbcType=TINYINT},#{item.isTimeSync,jdbcType=TINYINT},#{item.alignMethod,jdbcType=TINYINT},#{item.blacklightTime,jdbcType=TINYINT},#{item.voiceprompt,jdbcType=TINYINT},#{item.menuTime,jdbcType=TINYINT},#{item.wengenform,jdbcType=TINYINT},#{item.wengenOutput,jdbcType=TINYINT},#{item.wengenOutArea,jdbcType=TINYINT},#{item.regfingerOutTime,jdbcType=TINYINT},#{item.authfingerOutTime,jdbcType=TINYINT})
    </foreach>
  </insert>
  <insert id="insertBatchWithId" parameterType="top.iotequ.reader.pojo.DevReader" databaseId="Oracle">
    insert all 
    <foreach collection="list" item="item" index="index">
      into dev_reader (id,reader_no,name,type,reader_group,address,connect_type,ip,dev_mode,firmware,is_online,is_time_sync,align_method,blacklight_time,voiceprompt,menu_time,wengenform,wengen_output,wengen_out_area,regfinger_out_time,authfinger_out_time) values(#{item.id,jdbcType=VARCHAR},#{item.readerNo,jdbcType=VARCHAR},#{item.name,jdbcType=VARCHAR},#{item.type,jdbcType=VARCHAR},#{item.readerGroup,jdbcType=INTEGER},#{item.address,jdbcType=VARCHAR},#{item.connectType,jdbcType=VARCHAR},#{item.ip,jdbcType=VARCHAR},#{item.devMode,jdbcType=VARCHAR},#{item.firmware,jdbcType=VARCHAR},#{item.isOnline,jdbcType=TINYINT},#{item.isTimeSync,jdbcType=TINYINT},#{item.alignMethod,jdbcType=TINYINT},#{item.blacklightTime,jdbcType=TINYINT},#{item.voiceprompt,jdbcType=TINYINT},#{item.menuTime,jdbcType=TINYINT},#{item.wengenform,jdbcType=TINYINT},#{item.wengenOutput,jdbcType=TINYINT},#{item.wengenOutArea,jdbcType=TINYINT},#{item.regfingerOutTime,jdbcType=TINYINT},#{item.authfingerOutTime,jdbcType=TINYINT})
    </foreach>
    select 1 from dual
  </insert>
  <select id="select" parameterType="java.lang.String" resultMap="BaseResultMap">
    <include refid="selectSql" /> where id = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="delete" parameterType="java.lang.String">
    delete from dev_reader where id = #{id,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteBatch" parameterType="java.lang.String">
    delete from dev_reader where id in     <foreach item="item" index="index" collection="_parameter.split(',')" open="(" separator="," close=")">
      #{item}
    </foreach>
  </delete>
  <select id="selectByReaderNo" parameterType="java.lang.String" resultMap="BaseResultMap">
    <include refid="selectSql" /> where reader_no = #{readerNo,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByReaderNo" parameterType="java.lang.String">
    delete from dev_reader where reader_no = #{readerNo,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteBatchByReaderNo" parameterType="java.lang.String">
    delete from dev_reader where reader_no in     <foreach item="item" index="index" collection="_parameter.split(',')" open="(" separator="," close=")">
      #{item}
    </foreach>
  </delete>
  <delete id="deleteList" parameterType="java.util.List">
    delete from dev_reader where id in
    <foreach collection="list" item="item" index="index" open="(" separator="," close=")"> 
       #{item.id,jdbcType=VARCHAR}
    </foreach>
  </delete>
  <update id="update" parameterType="top.iotequ.reader.pojo.DevReader">
    update dev_reader set 
      reader_no = #{readerNo,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      type = #{type,jdbcType=VARCHAR},
      reader_group = #{readerGroup,jdbcType=INTEGER},
      address = #{address,jdbcType=VARCHAR},
      connect_type = #{connectType,jdbcType=VARCHAR},
      ip = #{ip,jdbcType=VARCHAR},
      dev_mode = #{devMode,jdbcType=VARCHAR},
      firmware = #{firmware,jdbcType=VARCHAR},
      is_online = #{isOnline,jdbcType=TINYINT},
      is_time_sync = #{isTimeSync,jdbcType=TINYINT},
      align_method = #{alignMethod,jdbcType=TINYINT},
      blacklight_time = #{blacklightTime,jdbcType=TINYINT},
      voiceprompt = #{voiceprompt,jdbcType=TINYINT},
      menu_time = #{menuTime,jdbcType=TINYINT},
      wengenform = #{wengenform,jdbcType=TINYINT},
      wengen_output = #{wengenOutput,jdbcType=TINYINT},
      wengen_out_area = #{wengenOutArea,jdbcType=TINYINT},
      regfinger_out_time = #{regfingerOutTime,jdbcType=TINYINT},
      authfinger_out_time = #{authfingerOutTime,jdbcType=TINYINT}
      where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateSelective" parameterType="top.iotequ.reader.pojo.DevReader">
    update dev_reader 
      <set>
        <if test="readerNo != null"> reader_no = #{readerNo,jdbcType=VARCHAR},</if>
        <if test="name != null"> name = #{name,jdbcType=VARCHAR},</if>
        <if test="type != null"> type = #{type,jdbcType=VARCHAR},</if>
        <if test="readerGroup != null"> reader_group = #{readerGroup,jdbcType=INTEGER},</if>
        <if test="address != null"> address = #{address,jdbcType=VARCHAR},</if>
        <if test="connectType != null"> connect_type = #{connectType,jdbcType=VARCHAR},</if>
        <if test="ip != null"> ip = #{ip,jdbcType=VARCHAR},</if>
        <if test="devMode != null"> dev_mode = #{devMode,jdbcType=VARCHAR},</if>
        <if test="firmware != null"> firmware = #{firmware,jdbcType=VARCHAR},</if>
        <if test="isOnline != null"> is_online = #{isOnline,jdbcType=TINYINT},</if>
        <if test="isTimeSync != null"> is_time_sync = #{isTimeSync,jdbcType=TINYINT},</if>
        <if test="alignMethod != null"> align_method = #{alignMethod,jdbcType=TINYINT},</if>
        <if test="blacklightTime != null"> blacklight_time = #{blacklightTime,jdbcType=TINYINT},</if>
        <if test="voiceprompt != null"> voiceprompt = #{voiceprompt,jdbcType=TINYINT},</if>
        <if test="menuTime != null"> menu_time = #{menuTime,jdbcType=TINYINT},</if>
        <if test="wengenform != null"> wengenform = #{wengenform,jdbcType=TINYINT},</if>
        <if test="wengenOutput != null"> wengen_output = #{wengenOutput,jdbcType=TINYINT},</if>
        <if test="wengenOutArea != null"> wengen_out_area = #{wengenOutArea,jdbcType=TINYINT},</if>
        <if test="regfingerOutTime != null"> regfinger_out_time = #{regfingerOutTime,jdbcType=TINYINT},</if>
        <if test="authfingerOutTime != null"> authfinger_out_time = #{authfingerOutTime,jdbcType=TINYINT},</if>
      </set>
      where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateBy" parameterType="top.iotequ.reader.pojo.DevReader">
    update dev_reader set 
      id = #{record.id,jdbcType=VARCHAR},
      reader_no = #{record.readerNo,jdbcType=VARCHAR},
      name = #{record.name,jdbcType=VARCHAR},
      type = #{record.type,jdbcType=VARCHAR},
      reader_group = #{record.readerGroup,jdbcType=INTEGER},
      address = #{record.address,jdbcType=VARCHAR},
      connect_type = #{record.connectType,jdbcType=VARCHAR},
      ip = #{record.ip,jdbcType=VARCHAR},
      dev_mode = #{record.devMode,jdbcType=VARCHAR},
      firmware = #{record.firmware,jdbcType=VARCHAR},
      is_online = #{record.isOnline,jdbcType=TINYINT},
      is_time_sync = #{record.isTimeSync,jdbcType=TINYINT},
      align_method = #{record.alignMethod,jdbcType=TINYINT},
      blacklight_time = #{record.blacklightTime,jdbcType=TINYINT},
      voiceprompt = #{record.voiceprompt,jdbcType=TINYINT},
      menu_time = #{record.menuTime,jdbcType=TINYINT},
      wengenform = #{record.wengenform,jdbcType=TINYINT},
      wengen_output = #{record.wengenOutput,jdbcType=TINYINT},
      wengen_out_area = #{record.wengenOutArea,jdbcType=TINYINT},
      regfinger_out_time = #{record.regfingerOutTime,jdbcType=TINYINT},
      authfinger_out_time = #{record.authfingerOutTime,jdbcType=TINYINT}
      where id = #{id,jdbcType=VARCHAR}
  </update>
  <select id="list" parameterType="top.iotequ.reader.pojo.DevReader" resultMap="BaseResultMap">
    <include refid="selectSql" />
     where 1=1 
        <if test="id != null"> and id like #{id,jdbcType=VARCHAR} </if>
        <if test="readerNo != null"> and reader_no like #{readerNo,jdbcType=VARCHAR} </if>
        <if test="name != null"> and name like #{name,jdbcType=VARCHAR} </if>
        <if test="type != null"> and type like #{type,jdbcType=VARCHAR} </if>
        <if test="readerGroup != null"> and reader_group = #{readerGroup,jdbcType=INTEGER} </if>
        <if test="address != null"> and address like #{address,jdbcType=VARCHAR} </if>
        <if test="connectType != null"> and connect_type like #{connectType,jdbcType=VARCHAR} </if>
        <if test="ip != null"> and ip like #{ip,jdbcType=VARCHAR} </if>
        <if test="devMode != null"> and dev_mode like #{devMode,jdbcType=VARCHAR} </if>
        <if test="firmware != null"> and firmware like #{firmware,jdbcType=VARCHAR} </if>
        <if test="isOnline != null"> and is_online = #{isOnline,jdbcType=TINYINT} </if>
        <if test="isTimeSync != null"> and is_time_sync = #{isTimeSync,jdbcType=TINYINT} </if>
        <if test="alignMethod != null"> and align_method = #{alignMethod,jdbcType=TINYINT} </if>
        <if test="blacklightTime != null"> and blacklight_time = #{blacklightTime,jdbcType=TINYINT} </if>
        <if test="voiceprompt != null"> and voiceprompt = #{voiceprompt,jdbcType=TINYINT} </if>
        <if test="menuTime != null"> and menu_time = #{menuTime,jdbcType=TINYINT} </if>
        <if test="wengenform != null"> and wengenform = #{wengenform,jdbcType=TINYINT} </if>
        <if test="wengenOutput != null"> and wengen_output = #{wengenOutput,jdbcType=TINYINT} </if>
        <if test="wengenOutArea != null"> and wengen_out_area = #{wengenOutArea,jdbcType=TINYINT} </if>
        <if test="regfingerOutTime != null"> and regfinger_out_time = #{regfingerOutTime,jdbcType=TINYINT} </if>
        <if test="authfingerOutTime != null"> and authfinger_out_time = #{authfingerOutTime,jdbcType=TINYINT} </if>
  </select>
  <select id="listBy" parameterType="map" resultMap="BaseResultMap">
    <include refid="selectSql" />
        <if test="whereString != null and whereString !=''"> where ${whereString} </if>
        <if test="orderString != null and orderString!=''"> order by ${orderString} </if>
  </select>
  <select id="query" parameterType="map" resultMap="BaseResultMap">
        ${sqlString}
  </select>
</mapper>
